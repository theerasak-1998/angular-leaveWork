<button
  class="btn-tmt-primary btn-tmt-primary-ed"
  nz-button
  nzType="primary"
  (click)="addUser()"
>
  <i nz-icon nzType="plus-circle" nzTheme="outline"></i> <span>เพิ่ม User</span>
</button>
<br /><br />

<div>
  <nz-table nzShowPagination="false" [nzData]="members">
    <thead>
      <tr>
        <th class="get-center">NO.ID</th>
        <th class="get-center">ชื่อ-นามสกุล</th>
        <th class="get-center">อีเมล</th>
        <th class="get-center">ตำแหน่ง</th>
        <th class="get-center">วันลาสูงสุด</th>
        <th></th>
        <th></th>
        <th></th>
      </tr>
    </thead>
    <tbody *ngFor="let item of members">
      <tr>
        <td  class="get-center">{{ item.id }}</td>
        <td class="get-center">{{ item.first_name }} {{ item.last_name }}</td>
        <td class="get-center">{{ item.email }}</td>
        <td class="get-center">{{ item.position }}</td>


        <!-- -------------------------detail button------------------------------- -->

        <td class="get-center">
          <button style="margin-right: 5px;" class="btn btn-tmt-act btn-tmt-act-ed3" (click)="openDetail(item.id)">
            <a nz-tooltip nzTooltipTitle="รายละเอียด">
              <i nz-icon nzType="info-circle" nzTheme="outline"></i>
            </a>
          </button>
        </td>

        <!-- -------------------------edit button------------------------------------ -->

        <td style="padding: 5px;">
          <button class="btn btn-tmt-act btn-tmt-act-ed2" (click)="open(item)">
            <a nz-tooltip nzTooltipTitle="แก้ไข">
              <i nz-icon nzType="edit" nzTheme="outline"></i>
            </a>
          </button>
        </td>

      <!-- ----------------------------delete button---------------------------------- -->

        <td  style="padding: 5px;">
          <button
            class="btn btn-tmt-act btn-tmt-act-ed"
            (click)="showDeleteConfirm(item.id)"
          >
            <a nz-tooltip nzTooltipTitle="ลบ">
              <i nz-icon nzType="delete" nzTheme="outline"></i>
            </a>
          </button>
        </td>

      </tr>
    </tbody>
  </nz-table>
</div>
<br />
<nz-pagination
  [nzPageIndex]="1"
  [nzTotal]="memberCount"
  (nzPageIndexChange)="click($event)"
></nz-pagination>





<!--------------------------------------------------------- edit members ---------------------------------------->
<nz-drawer
  [nzClosable]="false"
  [nzVisible]="visible"
  nzPlacement="right"
  nzTitle="แก้ไขข้อมูลพนักงาน"
  nzWidth="35%"
>
  <div>
    <div nz-row>
      <div style="padding-top: 5px" nz-col nzSpan="7">
        <span>Firstname :</span>
      </div>
      <div nz-col nzSpan="17" style="width: 200px">
        <input nz-input required [(ngModel)]="newData.first_name" />
      </div>
    </div>
    <br />

    <div nz-row>
      <div style="padding-top: 5px" nz-col nzSpan="7">
        <span>Lastname :</span>
      </div>
      <div nz-col nzSpan="17">
        <input nz-input required [(ngModel)]="newData.last_name" />
      </div>
    </div>
    <br />

    <div nz-row>
      <div style="padding-top: 5px" nz-col nzSpan="7" nzAlign="middle">
        <span>Email :</span>
      </div>
      <div nz-col nzSpan="17">
        <input nz-input required [(ngModel)]="newData.email" />
      </div>
    </div>
    <br />

    <!-- ---------------------------------------------------------password---------------------------- -->
    <div nz-row>
      <div  style="padding-top: 5px" nz-col nzSpan="7">
        <div>
          <span>New Password :</span>
        </div>
      </div>
      <div nz-col nzSpan="17">
        <nz-input-group [nzSuffix]="suffixTemplate" class="input-box">
          <input [type]="passwordVisible ? 'text' : 'password'" nz-input placeholder="New Password" required [(ngModel)]="newData.password">
        </nz-input-group>
        <ng-template #suffixTemplate>
          <i nz-icon [nzType]="passwordVisible ? 'eye-invisible' : 'eye'" (click)="passwordVisible = !passwordVisible"></i>
        </ng-template>
      </div>
    </div>
    <br />
    
    <div nz-row>
      <div  style="padding-top: 5px" nz-col nzSpan="7">
        <div>
          <span>Confirm Password :</span>
        </div>
      </div>
      <div nz-col nzSpan="17">
        <nz-input-group [nzSuffix]="suffixTemplate" class="input-box">
          <input [type]="passwordVisible ? 'text' : 'password'" nz-input placeholder="Confirm Password" required [(ngModel)]="newData.checkpassword">
        </nz-input-group>
        <ng-template #suffixTemplate>
          <i nz-icon [nzType]="passwordVisible ? 'eye-invisible' : 'eye'" (click)="passwordVisible = !passwordVisible"></i>
        </ng-template>
      </div>
    </div>
    <br />
    
    <!-- ---------------------------------------------------------password---------------------------- -->

    <div nz-row>
      <div style="padding-top: 5px" nz-col nzSpan="7" nzAlign="middle">
        <span>Position :</span>
      </div>
      <div nz-col nzSpan="17">
        <input nz-input required [(ngModel)]="newData.position" />
      </div>
    </div>
    <br />
    <nz-divider></nz-divider>
    <div style="margin-bottom: 15px">
      <button
        nz-button
        nzType="primary"
        (click)="showEditConfirm(newData.id, newData)"
        style="margin-right: 15px"
      >
        ยืนยัน
      </button>
      <button nz-button nzType="primary" nzDanger (click)="closeEdit()">
        ยกเลิก
      </button>
    </div>
  </div>
</nz-drawer>
